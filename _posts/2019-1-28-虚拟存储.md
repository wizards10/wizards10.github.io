---
layout: post
title: "虚拟存储概念"
date: 2019-1-28
excerpt: ""
tags: [操作系统，虚拟存储概念]
comments: true
---

## 动机

- 增长迅速的存储需求

## 基本概念

- 思路
  - 将不常用的部分内存块暂存到外存

- 原理：

  - 装载程序时
    - **只将当前指令执行需要的部分页面或断装入内存**

  - 指令执行中需要的指令或数据不在内存（称为缺页）
    - **处理器通知操作系统将相应的页面或断调入内存**

  - 操作系统将内存中暂时不用的页面或段保存到外存

- 实现方式
  - 虚拟页式
  - 虚拟段式

## 基本特征

- 不连续性
  - 物理内存分配非连续
  - 虚拟地址空间使用非连续

- 大用户空间
  - 提供给用户的虚拟内存可大于实际的物理内存

- 部分交换
  - 虚拟存储只对部分虚拟地址空间进行调入和调出

## 技术支持

- 硬件
  - 页式或短时存储中的地址转换机制

- 操作系统
  - 管理内存和外存间页面或断的换入和换出

## 虚拟页式存储管理

- 在页式存储管理的基础上，增加请求调页和页面置换

- 思路

  - 当用户程序要装载到内存运行时，只装入部分页面，就启动程序运行

  - 进程在运行中发现有需要的代码或数据不在内存中时，则向系统发出缺页异常请求

  - 操作系统在处理缺页异常时，将外存中相应的页面调入内存中使得进程能继续运行

    

