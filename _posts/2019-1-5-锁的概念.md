---
layout: post
title: "锁的概念"
date: 2018-12-27
excerpt: "基本概念"
tags: [锁,操作系统]
comments: true
---
# 锁的实现

### 方法1：禁用硬件中断

- 没有中断，没有上下文切换。因此没有并发
  - 硬件将中断处理延迟到中断启用之后
  - 汇编cli指令

- 进入临界区
  - 禁用中断

- 离开临界区
  - 开启中断

- 一旦中断被禁用，线程就无法被停止
  - 整个系统都会为你停下来
  - 可能导致其他线程处于饥饿状态

- 临界区较长
  - 无法限制

- 多cpu情况不适用

### 方法2：原子操作